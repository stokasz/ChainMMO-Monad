NODE_ENV=development
LOG_LEVEL=info

MID_MODE=full

CHAIN_RPC_URL=http://127.0.0.1:8555
CHAIN_ID=31337
CHAIN_CONFIRMATIONS=0
CHAIN_START_BLOCK=1
# Optional public RPC metadata for MCP onboarding bootstrap.
# CHAIN_PUBLIC_RPC_URLS takes precedence and accepts comma-separated URLs.
# Defaults by chainId are used when these are unset.
CHAIN_PUBLIC_RPC_URL=
CHAIN_PUBLIC_RPC_URLS=

# Optional override for contract addresses source (defaults to ../deployments/contracts.latest.json)
# CONTRACTS_JSON_PATH=../deployments/contracts.latest.json

# Contracts (fill from deployments/contracts.latest.json)
GAMEWORLD_ADDRESS=0x0000000000000000000000000000000000000000
FEEVAULT_ADDRESS=0x0000000000000000000000000000000000000000
ITEMS_ADDRESS=0x0000000000000000000000000000000000000000
MMO_ADDRESS=0x0000000000000000000000000000000000000000
TRADE_ESCROW_ADDRESS=0x0000000000000000000000000000000000000000
RFQ_MARKET_ADDRESS=0x0000000000000000000000000000000000000000
MMODISTRIBUTOR_ADDRESS=0x0000000000000000000000000000000000000000

# Required only when MID_MODE=full
SIGNER_PRIVATE_KEY=0x...

DATABASE_URL=postgres://postgres:postgres@127.0.0.1:5432/chainmmo
DATABASE_POOL_MAX=64
DATABASE_POOL_IDLE_TIMEOUT_MS=30000
DATABASE_POOL_CONNECTION_TIMEOUT_MS=5000

API_HOST=0.0.0.0
API_PORT=8787
API_KEY=

# MCP onboarding gas stipend (server-side).
MCP_STIPEND_ENABLED=false
# Optional dedicated faucet key for MCP onboarding. Leave blank to use SIGNER_PRIVATE_KEY.
MCP_STIPEND_WALLET_PRIVATE_KEY=
MCP_STIPEND_AMOUNT_WEI=100000000000000000
MCP_STIPEND_MIN_BALANCE_WEI=100000000000000000
MCP_STIPEND_WALLET_MIN_BALANCE_WEI=200000000000000000
MCP_STIPEND_ADDRESS_COOLDOWN_SECONDS=900
MCP_STIPEND_PER_ADDRESS_LIMIT_PER_WINDOW=2
MCP_STIPEND_GLOBAL_PER_HOUR_LIMIT=60

INDEXER_POLL_MS=1500
INDEXER_BLOCK_CHUNK=200
# Prevents large backlog catch-up from hammering RPC providers in one burst.
INDEXER_MAX_BLOCKS_PER_TICK=2000
# Backoff/retries when RPC providers return 429/rate-limit errors during eth_getLogs catch-up.
INDEXER_RATE_LIMIT_BACKOFF_MS=500
INDEXER_RATE_LIMIT_RETRY_MAX=4
ACTION_WORKER_POLL_MS=500
ACTION_WORKER_CONCURRENCY=8
ACTION_RETRY_MAX=3
ACTION_RETRY_BACKOFF_MS=800
# Optional safety gate: when true, /agent/action requires preflight success before queueing writes.
ACTION_REQUIRE_PREFLIGHT_SUCCESS=false
# Optional policy gate: when true, enables `claim_deployer` settlement action (ops-only).
ACTION_ENABLE_DEPLOYER_CLAIMS=false

X_PROFILE_URL=https://x.com/stokasz

# X OAuth 1.0a (Sign in with X) for verified wallet <-> X linking.
# These are secrets; never commit real values.
# X_CONSUMER_KEY=
# X_CONSUMER_SECRET=
# X_OAUTH_CALLBACK_URL=http://127.0.0.1:8787/auth/x/callback
# X_WEB_ORIGIN=http://localhost:5173

# MCP (optional)
# AGENT_API_BASE_URL=http://127.0.0.1:8787
# AGENT_API_KEY=
# MCP_ENABLE_ACTIONS=true
# MCP_REQUEST_TIMEOUT_MS=15000
# MCP_SESSION_SPEND_CEILING_WEI=
# MCP_MAX_FAILED_TX_GUARD=
